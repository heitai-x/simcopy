# VLLM llmcache 环境配置示例
# 复制此文件为 .env 并根据需要修改配置

# ============================================================================
# 基础配置
# ============================================================================

# 运行环境 (development, production, high_performance, minimal)
VLLM_ENV=development

# 日志配置
VLLM_LOG_LEVEL=INFO
VLLM_LOG_DIR=logs

# ============================================================================
# 模型配置
# ============================================================================

# 模型名称或路径
VLLM_MODEL_NAME=Qwen/Qwen2.5-7B-Instruct

# 数据类型 (auto, half, float16, bfloat16, float, float32)
VLLM_DTYPE=bfloat16

# GPU内存利用率 (0.1-1.0)
VLLM_GPU_MEMORY_UTILIZATION=0.90

# 最大模型长度
VLLM_MAX_MODEL_LEN=4096

# 张量并行大小
VLLM_TENSOR_PARALLEL_SIZE=1

# 设备类型 (auto, cuda, cpu)
VLLM_DEVICE=auto

# ============================================================================
# 缓存配置
# ============================================================================

# Redis配置
VLLM_REDIS_URL=redis://localhost:6379
VLLM_REDIS_DB=0
VLLM_REDIS_KEY_PREFIX=vllm_cache:
VLLM_REDIS_TTL=86400

# 启用Redis缓存
VLLM_ENABLE_REDIS=true

# 内存缓存大小
VLLM_MEMORY_CACHE_SIZE=100

# ============================================================================
# 共享内存配置
# ============================================================================

# 启用共享内存
VLLM_SHARED_MEMORY_ENABLED=true

# 共享内存大小 (字节)
VLLM_SHARED_MEMORY_SIZE=67108864

# 最大条目数
VLLM_SHARED_MEMORY_MAX_ENTRIES=10000

# 清理间隔 (秒)
VLLM_SHARED_MEMORY_CLEANUP_INTERVAL=300

# 启用压缩
VLLM_SHARED_MEMORY_COMPRESSION=true

# ============================================================================
# 向量搜索配置
# ============================================================================

# 启用向量搜索
VLLM_VECTOR_SEARCH_ENABLED=true

# 相似度阈值
VLLM_SIMILARITY_THRESHOLD=0.7

# 高相似度阈值
VLLM_HIGH_SIMILARITY_THRESHOLD=0.95

# 最大搜索结果数
VLLM_MAX_SEARCH_RESULTS=10

# 嵌入模型
VLLM_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ============================================================================
# NLP配置
# ============================================================================

# 启用NLP处理
VLLM_NLP_ENABLED=true

# 启用连接词提取
VLLM_NLP_CONJUNCTION_EXTRACTION=true

# 启用增强相似度搜索
VLLM_NLP_ENHANCED_SIMILARITY=true

# 原始文本权重
VLLM_NLP_ORIGINAL_TEXT_WEIGHT=0.7

# 子句权重
VLLM_NLP_SUBSENTENCE_WEIGHT=0.3

# 最小子句长度
VLLM_NLP_MIN_SUBSENTENCE_LENGTH=10

# 启用并行处理
VLLM_NLP_PARALLEL_PROCESSING=false

# ============================================================================
# 推测解码配置
# ============================================================================

# 启用推测解码
VLLM_SPECULATIVE_ENABLED=true

# 推测解码方法
VLLM_SPECULATIVE_METHOD=myngram

# 推测token数量
VLLM_SPECULATIVE_NUM_TOKENS=25

# 最大提案token数
VLLM_SPECULATIVE_MAX_PROPOSAL_TOKENS=5

# 相似度阈值
VLLM_SPECULATIVE_SIMILARITY_THRESHOLD=0.7

# 上下文窗口大小
VLLM_SPECULATIVE_CONTEXT_WINDOW=512

# 自适应提案
VLLM_SPECULATIVE_ADAPTIVE_PROPOSALS=true

# ============================================================================
# 性能配置
# ============================================================================

# 最大并发请求数
VLLM_MAX_CONCURRENT=4

# 强制eager模式
VLLM_ENFORCE_EAGER=false

# 启用性能监控
VLLM_ENABLE_MONITORING=true

# 启用调试模式
VLLM_DEBUG_MODE=false

# ============================================================================
# 安全配置
# ============================================================================

# API密钥 (如果需要)
# VLLM_API_KEY=your_api_key_here

# 允许的主机
# VLLM_ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# 开发配置
# ============================================================================

# 启用热重载
VLLM_HOT_RELOAD=false

# 启用详细日志
VLLM_VERBOSE_LOGGING=false

# 启用性能分析
VLLM_ENABLE_PROFILING=false

# 测试模式
VLLM_TEST_MODE=false